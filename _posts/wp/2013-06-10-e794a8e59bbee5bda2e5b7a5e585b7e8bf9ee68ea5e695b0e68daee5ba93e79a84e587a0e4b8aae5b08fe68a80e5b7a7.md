---
author: yangzy666
comments: true
date: 2013-06-10 07:59:24+00:00
layout: post
slug: '%e7%94%a8%e5%9b%be%e5%bd%a2%e5%b7%a5%e5%85%b7%e8%bf%9e%e6%8e%a5%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e5%87%a0%e4%b8%aa%e5%b0%8f%e6%8a%80%e5%b7%a7'
title: 用图形工具连接数据库的几个小技巧
wordpress_id: 657
categories:
- linux
- 数据库
---
{% include JB/setup %}

	 维护数据库时，我们一般有几种连接数据库的方式：1.命令行工具，比如putty、secureCRT等。2.图形工具，比如navicat，或者web形式的phpMyAdmin。但我比如喜欢傻瓜式的数据库维护图形工具，所以我倾向于后者。

	 为此，针对不同的客户生产环境，我总结了几个自己的实现方法，希望对码农们有用（高手就不用往下看了）。先简单概括一下我经历过的数据库网络环境：

	 1.可用ssh直连生产服务器，但不能直连系统后台数据库。

	 2.不能用ssh直连生产服务器，需要先VPN，然后才可以连接数据库，但VPN后我就上不了网。

	 一、ssh代理

	 针对第一种情况，比较简单，操作步骤如下：  
![](uploads/2013/06/20130610144745_20255.png)

	  


	先点击选项卡SSH，配置好SSH隧道代理所需信息

	![](uploads/2013/06/20130610145318_97460.png)

	  


	再回到”常规“选项卡，填写数据库所在服务器的IP（注意：是内网IP）及数据库的登陆帐密信息，并点击测试连接

	![](uploads/2013/06/20130610150157_85754.png)

	  


	二、需要VPN的情况

	对此，可以有两种方式：

	一种是给生产环境安装一个phpMyAdmin，这样既省去了VPN的麻烦，又可以使用本地网络上网，很方便。关于linux下安装phpMyAdmin及相关软件的方法，请参考我的另一篇博客：[_**Linux下安装Apache、PHP、phpMyAdmin及Apache反向代理Tomcat配置实战**_](http://www.ichatter.cn/?p=602)

	另一种是VPN后，可以用navicat访问生产数据库了，但因为进入了生产环境的局域网，由于限制，无法上网了。这时就需要借助上面第一种方式中用到的ssh代理，通过它，我们就可以在VPN环境下既可以用图形工具维护数据库，又可以上网查资料解决临时遇到的数据库问题，免去了本地网络和生产环境网络之间的频繁切换，多爽啊。

	 我的SSH代理上网的常用工具是：chrome浏览器+SwitchySharp扩展+MyEnTunnel（ssh代理工具）。

	 1.自行到网上下载MyEnTunnel

	 2.配置MyEnTunnel

	 ![](uploads/2013/06/20130610153232_15520.png)

	 3.安装chrome浏览器下的插件SwitchySharp，并配置好至MyEnTunnel的指定端口（我这里用的是7077）

	 ![](uploads/2013/06/20130610154923_70642.png)

	然后在chrome浏览器右上角选择配置好的情境模式，就可以实现代理上网了。当然我们也可以用其他浏览器打开网页，比如IE，在代理中直接设置好MyEnTunnel的信息就可以了。

	  


	总结：全文的主角是VPN和SSH，特别是通过SSH的代理功能，我们实现了数据库的代理连接和网络代理访问。提到VPN和SSH，就让我们想到翻qiang的必备工具。VPN的特点是将我们的整个本地网络都代理了，也就是说，我们电脑上的每个应用，如需访问网络，都是走的VPN代理；而SSH则有所不同，它显得更轻量级，如上的配置，就只实现了chrome浏览器的代理，而本地其他程序的网络环境不受影响。
